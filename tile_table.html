<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<title></title>
		<style type="text/css">
			* {
				margin: 0;
				padding: 0;
			}
			table {
				margin: 2%;
				table-layout: fixed;
				border-spacing: 0;
				border-collapse: collapse;
				line-height: 0;
				/*border: 5px solid gray;*/
			}
		</style>
	</head>
	<body>
		<table id="tiles"></table>

		<script type="text/javascript">
			// external?
			var img_id = "pudl0033/2008/0132/00000001";
			var size_pct = 50;


			var img_svc = "http://lib-staff901b.princeton.edu/loris";
			var tile_w = 256;
			var tile_h = 256;
			var rotation = 0;
			var qual_fmt = "native.jpg";
			
			var info_json = '{ \
				"identifier" : "pudl0033/2008/0132/00000001", \
				"width" : 5283, \
				"height" : 7200, \
				"scale_factors" : [1, 2, 3, 4, 5, 6, 7], \
				"tile_width" : 256, \
				"tile_height" : 256, \
				"formats" : [ "jpg", "png" ], \
				"qualities" : ["native", "bitonal", "grey", "color"], \
				"profile" : "http://library.stanford.edu/iiif/image-api/compliance.html#level1"	\
			}';
			var info = JSON.parse(info_json);

			t = document.getElementById("tiles");
			for (y = 0; y < info.height; y = y + tile_w + 1) {
				// document.write(y + '\n');
				row = document.createElement("tr");
				for (x = 0; x < info.width; x = x + tile_h + 1) {
					height = tile_h * size_pct * 0.01;
					width = tile_w * size_pct * 0.01;
					col = document.createElement("td");
					row.appendChild(col);
					img = document.createElement("img")
					region = x+','+y+','+tile_w+','+tile_h;
					img_uri = [img_svc, img_id, region, "pct:"+size_pct, rotation, qual_fmt].join("/");
					img.setAttribute("src", img_uri);
					col.appendChild(img)
				};
				t.appendChild(row);

			};
		</script>
		

	</body>

</html>
